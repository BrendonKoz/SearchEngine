{"version":3,"sources":["src/Core.js","src/Tabs.js","src/Config.js","src/Debugger.js","admin.js"],"names":["PWSE_Core","document","addEventListener","window","SearchEngine","dispatchEvent","CustomEvent","PWSE_Tabs","tabsParent","rememberActiveTab","tabContainers","querySelectorAll","length","forEach","tabContainer","tablist","querySelector","tabs","panels","currentTabNum","currentTabID","tabStash","localStorage","getItem","JSON","parse","hasOwnProperty","getAttribute","switchTab","oldTab","newTab","focus","removeAttribute","setAttribute","index","Array","prototype","indexOf","call","oldIndex","hidden","closest","setItem","stringify","tab","i","parentNode","e","preventDefault","currentTab","currentTarget","dir","which","panel","id","Tabs","PWSE_Config","operatorDetails","getElementById","operatorDetailsToggle","createElement","classList","add","innerHTML","toggleAttribute","InputfieldColumnWidths","prepend","operatorSelect","setOperator","target","value","operatorButtons","button","operator","activeOperator","remove","node","style","transition","backgroundColor","setTimeout","Config","PWSE_Debugger","debugContainers","configURL","ProcessWire","config","urls","admin","debugURL","debugContainer","debugButton","makeButton","icon","initIndex","initPage","initQuery","console","error","fetch","then","response","text","data","innerText","highlight","findCollapsed","init","reindexButton","debugPageID","parseInt","debugPageInput","previousSibling","contains","debugPageItem","match","dataQueue","pop","queueData","push","click","debugQuery","debugQueryArgs","key","prevQuery","encodeURIComponent","label","parent","sticky","insertBefore","appendChild","collapsedSections","collapsedSection","maxHeight","tagName","height","scrollHeight","overflowY","collapseButton","nextSibling","Debugger"],"mappings":"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","file":"admin.js","sourceRoot":"..","sourcesContent":["/**\n * SearchEngine JS Core\n *\n * @version 0.1.1\n */\nclass PWSE_Core {\n\n    /**\n     * Constructor\n     */\n    constructor() {}\n\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    window.SearchEngine = new PWSE_Core();\n    document.dispatchEvent(new CustomEvent('SearchEngineConstructed'));\n});\n","/**\n * SearchEngine JS Tabs\n *\n * Based on https://inclusive-components.design/tabbed-interfaces/.\n *\n * @version 0.1.1\n */\nclass PWSE_Tabs {\n\n    /**\n     * Init method\n     *\n     * @param {?Object} tabsParent Optional parent node for tabs.\n     * @param {Boolean} rememberActiveTab Remember active tab?\n     */\n    init(tabsParent = null, rememberActiveTab = true) {\n\n        // find tab containers\n        let tabContainers = [];\n        tabsParent = typeof tabsParent === 'Object' ? tabsParent : document;\n        tabContainers = tabsParent.querySelectorAll('.pwse-tabs');\n        if (!tabContainers.length) return;\n\n        tabContainers.forEach(tabContainer => {\n\n            // get relevant elements and collections\n            const tablist = tabContainer.querySelector('[role=\"tablist\"]');\n            const tabs = tablist.querySelectorAll('[role=\"tab\"]');\n            const panels = tabContainer.querySelectorAll(':scope > [role=\"tabpanel\"]');\n\n            // get tab stash from localStorage\n            let currentTabNum = 0;\n            let currentTabID = null;\n            if (rememberActiveTab) {\n                let tabStash = localStorage.getItem('pwse-tabs');\n                tabStash = tabStash ? JSON.parse(tabStash) : {};\n                if (tabStash.hasOwnProperty(tabContainer.getAttribute('id'))) {\n                    currentTabID = tabStash[tabContainer.getAttribute('id')];\n                }\n            }\n\n            // the tab switching function\n            const switchTab = (oldTab, newTab) => {\n                newTab.focus();\n                // Make the active tab focusable by the user (Tab key)\n                newTab.removeAttribute('tabindex');\n                // Set the selected state\n                newTab.setAttribute('aria-selected', 'true');\n                oldTab.removeAttribute('aria-selected');\n                oldTab.setAttribute('tabindex', '-1');\n                // Get the indices of the new and old tabs to find the correct\n                // tab panels to show and hide\n                let index = Array.prototype.indexOf.call(tabs, newTab);\n                let oldIndex = Array.prototype.indexOf.call(tabs, oldTab);\n                panels[oldIndex].hidden = true;\n                panels[index].hidden = false;\n                if (rememberActiveTab) {\n                    let tabStash = localStorage.getItem('pwse-tabs');\n                    tabStash = tabStash ? JSON.parse(tabStash) : {};\n                    tabStash[newTab.closest('.pwse-tabs').getAttribute('id')] = newTab.getAttribute('id');\n                    localStorage.setItem('pwse-tabs', JSON.stringify(tabStash));\n                }\n            }\n\n            // add the tablist role to the first <ul> in the tab container\n            tablist.setAttribute('role', 'tablist');\n\n            // add semantics are remove user focusability for each tab\n            Array.prototype.forEach.call(tabs, (tab, i) => {\n                tab.setAttribute('role', 'tab');\n                tab.setAttribute('id', tabContainer.getAttribute('id') + '-' + (i + 1));\n                tab.setAttribute('tabindex', '-1');\n                tab.parentNode.setAttribute('role', 'presentation');\n\n                // check if this tab should be activated by default\n                if (rememberActiveTab && currentTabID === tab.getAttribute('id')) {\n                    currentTabNum = i;\n                }\n\n                // handle clicking of tabs for mouse users\n                tab.addEventListener('click', e => {\n                    e.preventDefault();\n                    let currentTab = tablist.querySelector('[aria-selected]');\n                    if (e.currentTarget !== currentTab) {\n                        switchTab(currentTab, e.currentTarget);\n                    }\n                });\n\n                // handle keydown events for keyboard users\n                tab.addEventListener('keydown', e => {\n                    // get the index of the current tab in the tabs node list\n                    let index = Array.prototype.indexOf.call(tabs, e.currentTarget);\n                    // work out which key the user is pressing and\n                    // calculate the new tab's index where appropriate\n                    let dir = e.which === 37 ? index - 1 : e.which === 39 ? index + 1 : e.which === 40 ? 'down' : null;\n                    if (dir !== null) {\n                        e.preventDefault();\n                        // if the down key is pressed, move focus to the open panel,\n                        // otherwise switch to the adjacent tab\n                        dir === 'down' ? panels[i].focus() : tabs[dir] ? switchTab(e.currentTarget, tabs[dir]) : void 0;\n                    }\n                });\n            });\n\n            // add tab panel semantics and hide them all\n            Array.prototype.forEach.call(panels, (panel, i) => {\n                panel.setAttribute('role', 'tabpanel');\n                panel.setAttribute('tabindex', '-1');\n                panel.setAttribute('aria-labelledby', tabs[i].id);\n                panel.hidden = true;\n            });\n\n            // activate current tab and reveal related tab panel\n            tabs[currentTabNum].removeAttribute('tabindex');\n            tabs[currentTabNum].setAttribute('aria-selected', 'true');\n            panels[currentTabNum].hidden = false;\n        })\n    }\n\n}\n\ndocument.addEventListener(\"SearchEngineConstructed\", function() {\n    window.SearchEngine.Tabs = new PWSE_Tabs();\n});\n","/**\n * SearchEngine JS Config\n *\n * @version 0.1.0\n */\nclass PWSE_Config {\n\n    /**\n     * Constructor method\n     */\n    constructor() {\n\n        // toggle operator details\n        const operatorDetails = document.getElementById('pwse-operator-details');\n        if (operatorDetails) {\n            operatorDetails.setAttribute('hidden', '');\n            const operatorDetailsToggle = document.createElement('button');\n            operatorDetailsToggle.classList.add('ui-button', 'ui-state-default');\n            operatorDetailsToggle.innerHTML = operatorDetails.getAttribute('data-toggle-label');\n            operatorDetailsToggle.innerHTML += ' <i class=\"fa fa-question-circle\"></i>';\n            operatorDetailsToggle.addEventListener('click', e => {\n                e.preventDefault();\n                operatorDetails.toggleAttribute('hidden');\n                if (typeof window.InputfieldColumnWidths === 'function') {\n                    window.InputfieldColumnWidths();\n                }\n            });\n            operatorDetails.parentNode.prepend(operatorDetailsToggle);\n            if (typeof window.InputfieldColumnWidths === 'function') {\n                window.InputfieldColumnWidths();\n            }\n\n            // operator select\n            const operatorSelect = document.getElementById('Inputfield_find_args__operator');\n            if (operatorSelect) {\n                operatorSelect.addEventListener('change', e => {\n                    this.setOperator(e.target.value);\n                });\n            }\n\n            // operator buttons\n            const operatorButtons = document.querySelectorAll('.pwse-operator-details__button');\n            if (operatorButtons.length) {\n                operatorButtons.forEach(button => {\n                    button.addEventListener('click', e => {\n                        e.preventDefault();\n                        this.setOperator(e.target.getAttribute('data-operator'));\n                    });\n                });\n            }\n        }\n    }\n\n    /**\n     * Set operator\n     *\n     * @param {String} operator\n     */\n    setOperator(operator) {\n        const activeOperator = document.querySelector('.pwse-operator-details__list-item--active');\n        if (activeOperator) {\n            activeOperator.classList.remove('pwse-operator-details__list-item--active');\n        }\n        const operatorButton = document.querySelector('button[data-operator=\"' + operator + '\"]');\n        operatorButton.closest('.pwse-operator-details__list-item').classList.add('pwse-operator-details__list-item--active');\n        document.getElementById('Inputfield_find_args__operator').value = operator;\n    }\n\n    /**\n     * Highlight (blink/flash) a DOM node\n     *\n     * @param {object} node DOM node\n     */\n    highlight(node) {\n        node.style.transition = 'all .25s ease-in-out';\n        node.style.backgroundColor = 'lightyellow';\n        setTimeout(() => {\n            node.style.backgroundColor = null;\n            setTimeout(() => {\n                node.style.transition = null;\n            }, 250);\n        }, 1000);\n    }\n}\n\ndocument.addEventListener(\"SearchEngineConstructed\", function() {\n    window.SearchEngine.Config = new PWSE_Config();\n});\n","/**\n * SearchEngine JS Debugger\n *\n * @version 0.5.1\n */\nclass PWSE_Debugger {\n\n    /**\n     * Constructor method\n     */\n    constructor() {\n\n        // find debug containers\n        const debugContainers = document.querySelectorAll('.pwse-debug');\n\n        if (debugContainers.length) {\n\n            // define base url for debug requests\n            this.configURL = ProcessWire.config.urls.admin + 'module/edit?name=SearchEngine';\n            this.debugURL = this.configURL + '&se-debug=1&';\n\n            debugContainers.forEach(debugContainer => {\n\n                // add debug button\n                const debugButton = this.makeButton(debugContainer.getAttribute('data-debug-button-label'), debugContainer, true);\n                debugButton.icon.setAttribute('class', 'fa fa-bug');\n\n                switch (debugContainer.getAttribute('data-type')) {\n                    case 'index':\n                        this.initIndex(debugContainer, debugButton)\n                        break;\n                    case 'page':\n                        this.initPage(debugContainer, debugButton);\n                        break;\n                    case 'query':\n                        this.initQuery(debugContainer, debugButton);\n                        break;\n                    default:\n                        console.error('Unidentified debug container type (' + debugContainer.getAttribute('data-type') + ')');\n                }\n            });\n        }\n    }\n\n    /**\n     * Init index debug container\n     *\n     * @param {object} debugContainer\n     * @param {object} debugButton\n     */\n    initIndex(debugContainer, debugButton) {\n\n        // enable debug button\n        debugButton.button.removeAttribute('disabled');\n        debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n\n        // listen to debug button click event\n        debugButton.button.addEventListener(\"click\", e => {\n            e.preventDefault();\n            debugButton.button.setAttribute('disabled', 'disabled');\n            debugButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n            debugButton.icon.classList.add('fa-spin');\n            fetch(this.debugURL + 'se-debug-index=1')\n                .then(response => response.text())\n                .then(data => {\n\n                    // update debug button\n                    debugButton.text.innerText = debugContainer.getAttribute('data-refresh-button-label');\n                    debugButton.icon.setAttribute('class', 'fa fa-refresh');\n                    debugButton.button.removeAttribute('disabled');\n                    debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n\n                    // update and highlight debug container\n                    debugContainer.innerHTML = data;\n                    debugContainer.setAttribute('style', 'margin-top: 2rem');\n                    this.highlight(debugContainer);\n\n                    // find collapsed sections\n                    this.findCollapsed(debugContainer);\n\n                    // init tabs\n                    window.SearchEngine.Tabs.init(debugContainer);\n                });\n        });\n    }\n\n    /**\n     * Init page debug container\n     *\n     * @param {object} debugContainer\n     * @param {object} debugButton\n     */\n    initPage(debugContainer, debugButton) {\n\n        // add \"reindex\" button\n        const reindexButton = this.makeButton(debugContainer.getAttribute('data-reindex-button-label'), debugContainer, true);\n\n        // get debug page ID\n        let debugPageID = parseInt(debugContainer.getAttribute('data-page-id'));\n        if (debugPageID) {\n            debugButton.button.removeAttribute('disabled');\n            debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n            reindexButton.button.removeAttribute('disabled');\n            reindexButton.button.setAttribute('class', 'ui-button ui-state-default');\n        }\n\n        // listen to page select event\n        const debugPageInput = document.getElementById('Inputfield_debugger_page');\n        debugPageInput.previousSibling.addEventListener(\"click\", e => {\n            if (!e.target.parentNode.classList.contains('PageListActionSelect')) return;\n            let debugPageItem = e.target.closest('.PageListItem');\n            debugPageID = debugPageItem.getAttribute('class').match(/(?!PageList)([0-9])+/)[0];\n            debugContainer.innerHTML = '';\n            debugContainer.setAttribute('style', 'margin-top: 0');\n            debugButton.text.innerText = debugContainer.getAttribute('data-debug-button-label');\n            debugButton.icon.setAttribute('class', 'fa fa-bug');\n            if (debugPageID && (debugPageInput.value != debugPageID)) {\n                debugButton.button.removeAttribute('disabled');\n                debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n                reindexButton.button.removeAttribute('disabled');\n                reindexButton.button.setAttribute('class', 'ui-button ui-state-default');\n            } else {\n                debugButton.button.setAttribute('disabled', 'disabled')\n                debugButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n                reindexButton.button.setAttribute('disabled', 'disabled')\n                reindexButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n            }\n        }, true);\n\n        // data queue\n        const dataQueue = [];\n\n        // listen to debug button click event\n        debugButton.button.addEventListener(\"click\", e => {\n            e.preventDefault();\n            debugButton.button.setAttribute('disabled', 'disabled');\n            debugButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n            debugButton.icon.classList.add('fa-spin');\n            fetch(this.debugURL + 'se-debug-page-id=' + debugPageID)\n                .then(response => response.text())\n                .then(data => {\n                    debugButton.text.innerText = debugContainer.getAttribute('data-refresh-button-label');\n                    debugButton.icon.setAttribute('class', 'fa fa-refresh');\n                    debugButton.button.removeAttribute('disabled');\n                    debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n                    debugContainer.innerHTML = data;\n                    if (dataQueue.length) {\n                        debugContainer.innerHTML = dataQueue.pop() + debugContainer.innerHTML;\n                    }\n                    const queueData = debugContainer.queueData\n                    debugContainer.setAttribute('style', 'margin-top: 2rem');\n                    this.highlight(debugContainer);\n                    this.findCollapsed(debugContainer);\n                    window.SearchEngine.Tabs.init(debugContainer);\n                });\n        });\n\n        // listen to reindex button click event\n        reindexButton.button.addEventListener(\"click\", e => {\n            e.preventDefault();\n            reindexButton.button.setAttribute('disabled', 'disabled');\n            reindexButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n            reindexButton.icon.classList.add('fa-spin');\n            fetch(this.debugURL + 'se-reindex-page-id=' + debugPageID)\n                .then(response => response.text())\n                .then(data => {\n                    reindexButton.icon.classList.remove('fa-spin');\n                    reindexButton.button.removeAttribute('disabled');\n                    reindexButton.button.setAttribute('class', 'ui-button ui-state-default');\n                    dataQueue.push(data);\n                    debugButton.button.click();\n                });\n        });\n    }\n\n    /**\n     * Init query debug container\n     *\n     * @param {object} debugContainer\n     * @param {object} debugButton\n     */\n    initQuery(debugContainer, debugButton) {\n\n        // get debug query\n        let debugQuery = debugContainer.getAttribute('data-query');\n        if (debugQuery) {\n            debugButton.button.removeAttribute('disabled');\n            debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n        }\n\n        // get debug query args\n        const debugQueryArgs = document.getElementById('Inputfield_debugger_query_args');\n\n        // listen to keyup event\n        document.getElementById('Inputfield_debugger_query').addEventListener(\"keyup\", function(e) {\n            if (e.key == 'Enter') {\n                e.preventDefault();\n            }\n            debugQuery = e.target.value;\n            if (debugQuery) {\n                debugButton.button.removeAttribute('disabled');\n                debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n                debugButton.text\n                    .innerText = debugContainer.getAttribute('data-' + (debugQuery == prevQuery ? 'refresh' : 'debug') + '-button-label');\n                if (e.key == 'Enter') {\n                    debugButton.button.click();\n                }\n            } else {\n                debugButton.button.setAttribute('disabled', 'disabled');\n                debugButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n                debugButton.text\n                    .innerText = debugContainer.getAttribute('data-debug-button-label');\n            }\n        });\n\n        // listen to debug button click event\n        let prevQuery = debugQuery;\n        debugButton.button.addEventListener(\"click\", e => {\n            e.preventDefault();\n            debugButton.button.setAttribute('disabled', 'disabled');\n            debugButton.button.setAttribute('class', 'ui-button ui-state-disabled');\n            debugButton.icon.classList.add('fa-spin');\n            fetch(\n                this.debugURL\n                + 'se-debug-query=' + encodeURIComponent(debugQuery)\n                + '&se-debug-query-args=' + encodeURIComponent(JSON.stringify(JSON.parse(debugQueryArgs.value)))\n            )\n                .then(response => response.text())\n                .then(data => {\n                    prevQuery = debugQuery;\n                    debugButton.text.innerText = debugContainer.getAttribute('data-refresh-button-label');\n                    debugButton.icon.setAttribute('class', 'fa fa-refresh');\n                    debugButton.button.removeAttribute('disabled');\n                    debugButton.button.setAttribute('class', 'ui-button ui-state-default');\n                    debugContainer.innerHTML = data;\n                    debugContainer.setAttribute('style', 'margin-top: 2rem');\n                    this.highlight(debugContainer);\n                    window.SearchEngine.Tabs.init(debugContainer);\n                });\n        });\n    }\n\n    /**\n     * Highlight (blink/flash) a DOM node\n     *\n     * @param {object} node DOM node\n     */\n    highlight(node) {\n        node.style.transition = 'all .25s ease-in-out';\n        node.style.backgroundColor = 'lightyellow';\n        setTimeout(() => {\n            node.style.backgroundColor = null;\n            setTimeout(() => {\n                node.style.transition = null;\n            }, 250);\n        }, 1000);\n    }\n\n    /**\n     * Create new button\n     *\n     * @param {string} label Label for the button\n     * @param {object} [parent] Parent DOM node\n     * @param {boolean} [sticky] Sticky button?\n     * @return {object} Button\n     */\n    makeButton(label, parent, sticky) {\n        const button = {\n            button: document.createElement('button'),\n            text: document.createElement('span'),\n            icon: document.createElement('i'),\n        };\n        button.button.setAttribute('class', 'ui-button ui-state-disabled');\n        button.button.setAttribute('disabled', 'disabled');\n        if (typeof sticky !== 'undefined' && sticky !== false) {\n            button.button.setAttribute('style', 'position: sticky; top: 1rem; z-index: 1');\n        }\n        if (typeof parent !== 'undefined') {\n            parent.parentNode.insertBefore(button.button, parent);\n        }\n        button.text.innerText = label;\n        button.button.appendChild(button.text);\n        button.icon.setAttribute('class', 'fa fa-refresh');\n        button.icon.setAttribute('style', 'margin-left: .5rem');\n        button.button.appendChild(button.icon);\n        return button;\n    }\n\n    /**\n     * Find collapsed elements and add show more/less buttons\n     *\n     * @param {object} parent Parent DOM node\n     */\n    findCollapsed(parent) {\n        const maxHeight = 400;\n        const collapsedSections = parent.querySelectorAll('.pwse-collapse');\n        if (collapsedSections.length) {\n            collapsedSections.forEach(collapsedSection => {\n                collapsedSection.style.maxHeight = maxHeight + 'px';\n                if (collapsedSection.tagName === 'TEXTAREA') {\n                    collapsedSection.style.height = (collapsedSection.scrollHeight + 2) + 'px';\n                }\n                collapsedSection.style.overflowY = 'auto';\n                if ((collapsedSection.scrollHeight + 2) > maxHeight) {\n                    const collapseButton = this.makeButton(parent.getAttribute('data-show-more-button-label'));\n                    collapseButton.button.setAttribute('class', 'ui-button ui-state-default');\n                    collapseButton.icon.setAttribute('class', 'fa fa-chevron-down');\n                    collapseButton.button.addEventListener('click', e => {\n                        e.preventDefault();\n                        if (collapsedSection.style.maxHeight) {\n                            collapsedSection.style.maxHeight = null;\n                            collapseButton.text.innerText = parent.getAttribute('data-show-less-button-label');\n                            collapseButton.icon.setAttribute('class', 'fa fa-chevron-up');\n                        } else {\n                            collapsedSection.style.maxHeight = maxHeight + 'px';\n                            collapseButton.text.innerText = parent.getAttribute('data-show-more-button-label');\n                            collapseButton.icon.setAttribute('class', 'fa fa-chevron-down');\n                        }\n                        collapseButton.button.removeAttribute('disabled');\n                        collapseButton.button.setAttribute('class', 'ui-button ui-state-default');\n                        this.highlight(collapsedSection);\n                    });\n                    collapseButton.button.removeAttribute('disabled');\n                    collapsedSection.parentNode.insertBefore(collapseButton.button, collapsedSection.nextSibling);\n                }\n            });\n        }\n    }\n\n}\n\ndocument.addEventListener(\"SearchEngineConstructed\", function() {\n    window.SearchEngine.Debugger = new PWSE_Debugger();\n});\n","import './src/Core.js'\nimport './src/Tabs.js'\nimport './src/Config.js'\nimport './src/Debugger.js'\n"]}